<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <title>wasm-life</title>
</head>
<body>
    <div> <!-- threelet ======== -->
        WIP
        <!-- <canvas id="canvas" style="width: 100%; height: 100%;"></canvas> -->
    </div>

    <div> <!-- life bindgen example ======== -->
        <button id="play-pause"></button>
        <div id="fps"></div>
        <canvas id="game-of-life-canvas"></canvas>
    </div>

    <script src="../deps/three.min.js"></script>
    <script src="../deps/OrbitControls.js"></script>
    <script src="../deps/WebVR.js"></script>
    <script src="../../dist/threelet.min.js"></script>

    <script type="module">
    // import Threelet from '../../src/index.js'; // dev only
    import './index.js';

    class App extends Threelet {
        // override
        onCreate(params) {
            this.setup('mod-controls', THREE.OrbitControls);
            this.setup('mod-webvr', window.WEBVR);

            this.scene.add(new THREE.GridHelper(10, 20));

            this.cube = Threelet.Utils.createTestCube([0.4, 0.1, 0.4], 0xff00ff);
            this.scene.add(this.cube);

            this.updateLoop(0);
        }

        // override
        onUpdate(t, dt) {
            this.cube.position.set(Math.cos(t), 0.5, Math.sin(t)-1.5);
            this.cube.rotation.z += dt;
        }
    }

    // const app = new App({
    //     canvas: document.getElementById("canvas"),
    // });
    </script>
</body>
</html>
